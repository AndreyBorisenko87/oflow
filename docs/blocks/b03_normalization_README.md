# –ë–ª–æ–∫ 03: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ë–ª–æ–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∫ –µ–¥–∏–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞.
–£–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É trades, depth –∏ quotes –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

## üéØ –§—É–Ω–∫—Ü–∏–∏

### **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `normalize_trades()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–¥–µ–ª–æ–∫
- `normalize_depth()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–Ω–∏–≥–∏ –∑–∞—è–≤–æ–∫  
- `normalize_quotes()` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫

### **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- DataFrame —Å trades (—Å–¥–µ–ª–∫–∏)
- DataFrame —Å depth (–∫–Ω–∏–≥–∞ –∑–∞—è–≤–æ–∫)
- DataFrame —Å quotes (–∫–æ—Ç–∏—Ä–æ–≤–∫–∏)

### **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DataFrame –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏:**
- **Trades**: `ts_ns`, `exchange`, `symbol`, `price`, `size`
- **Depth**: `ts_ns`, `exchange`, `symbol`, `side`, `price`, `size`
- **Quotes**: `ts_ns`, `exchange`, `symbol`, `best_bid`, `best_ask`

### **–û–±—Ä–∞–±–æ—Ç–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
2. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
3. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–µ `ts_ns`
4. –°–±—Ä–æ—Å –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –¥–∞–Ω–Ω—ã—Ö

## üìä –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from oflow.blocks import NormalizationBlock

# –°–æ–∑–¥–∞–Ω–∏–µ –±–ª–æ–∫–∞
norm_block = NormalizationBlock(config)

# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
result = norm_block.run({
    'trades_df': trades_data,
    'depth_df': depth_data
}, config)

# –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
normalized_trades = result['trades_df']
normalized_depth = result['depth_df']
```

## ‚ö†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∫–æ–ª–æ–Ω–æ–∫

## üîó –°–≤—è–∑–∏

- **–ü—Ä–µ–¥—ã–¥—É—â–∏–π**: –ë–ª–æ–∫ 02 (ImportRaw) - –∏–º–ø–æ—Ä—Ç —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–°–ª–µ–¥—É—é—â–∏–π**: –ë–ª–æ–∫ 04 (SyncTime) - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏

## üìù –õ–æ–≥–∏

–ë–ª–æ–∫ –ª–æ–≥–∏—Ä—É–µ—Ç:
- –ó–∞–ø—É—Å–∫ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
